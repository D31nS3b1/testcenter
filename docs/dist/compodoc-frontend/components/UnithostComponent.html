<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>iqb-testcenter documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">iqb-testcenter documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  UnithostComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>frontend/src/app/test-controller/components/unithost/unithost.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
                    <code><a href="https://angular.io/api/core/OnDestroy" target="_blank" >OnDestroy</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./unithost.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./unithost.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#clearCodes" >clearCodes</a>
                            </li>
                            <li>
                                <a href="#codeRequiringTestlets" >codeRequiringTestlets</a>
                            </li>
                            <li>
                                <a href="#currentPageIndex" >currentPageIndex</a>
                            </li>
                            <li>
                                <a href="#currentUnit" >currentUnit</a>
                            </li>
                            <li>
                                <a href="#currentUnitSequenceId" >currentUnitSequenceId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#iFrameHostElement" >iFrameHostElement</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#iFrameItemplayer" >iFrameItemplayer</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#itemplayerSessionId" >itemplayerSessionId</a>
                            </li>
                            <li>
                                <a href="#knownPages" >knownPages</a>
                            </li>
                            <li>
                                <a href="#leaveWarning" >leaveWarning</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#pendingUnitData" >pendingUnitData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#postMessageTarget" >postMessageTarget</a>
                            </li>
                            <li>
                                <a href="#showPageNav" >showPageNav</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#subscriptions" >subscriptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#tcs" >tcs</a>
                            </li>
                            <li>
                                <a href="#unitNavigationTarget" >unitNavigationTarget</a>
                            </li>
                            <li>
                                <a href="#unitsLoading$" >unitsLoading$</a>
                            </li>
                            <li>
                                <a href="#unitsToLoadLabels" >unitsToLoadLabels</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#adjustIframeSize" >adjustIframeSize</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Static</span>
                                <a href="#getEnabledNavigationTargets" >getEnabledNavigationTargets</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getPlayerConfig" >getPlayerConfig</a>
                            </li>
                            <li>
                                <a href="#gotoPage" >gotoPage</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#handleIncomingMessage" >handleIncomingMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#handleNavigationDenial" >handleNavigationDenial</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onKeydownInClearCodeInput" >onKeydownInClearCodeInput</a>
                            </li>
                            <li>
                                <a href="#onResize" >onResize</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#open" >open</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#prepareIframe" >prepareIframe</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#prepareUnit" >prepareUnit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#runUnit" >runUnit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#startTimerIfNecessary" >startTimerIfNecessary</a>
                            </li>
                            <li>
                                <a href="#verifyCodes" >verifyCodes</a>
                            </li>
                        </ul>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                        <h6><b>HostListeners</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#window:resize" >window:resize</a>
                            </li>
                        </ul>
                    </td>
                </tr>

        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(tcs: <a href="../injectables/TestControllerService.html" target="_self">TestControllerService</a>, mds: <a href="../injectables/MainDataService.html" target="_self">MainDataService</a>, bs: <a href="../injectables/BackendService.html" target="_self">BackendService</a>, route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, snackBar: MatSnackBar)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:54</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>tcs</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/TestControllerService.html" target="_self" >TestControllerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>mds</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MainDataService.html" target="_self" >MainDataService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>bs</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/BackendService.html" target="_self" >BackendService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>snackBar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>




    <section>
    <h3>HostListeners</h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="window:resize"></a>
                    <span class="name">
                        <span ><b>window:resize</b></span>
                        <a href="#window:resize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>window:resize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="343"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:343</a></div>
                </td>
            </tr>


        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="adjustIframeSize"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>adjustIframeSize</b></span>
                        <a href="#adjustIframeSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>adjustIframeSize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="338"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:338</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEnabledNavigationTargets"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span class="modifier">Static</span>
                        <span ><b>getEnabledNavigationTargets</b></span>
                        <a href="#getEnabledNavigationTargets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getEnabledNavigationTargets(nr: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, min: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, max: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, terminationAllowed: "ON" | "OFF" | "LAST_UNIT")</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="372"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:372</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>nr</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>min</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>max</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>terminationAllowed</td>
                                    <td>
                                            <code>&quot;ON&quot; | &quot;OFF&quot; | &quot;LAST_UNIT&quot;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>&#x27;ON&#x27;</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>VeronaNavigationTarget[]</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPlayerConfig"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getPlayerConfig</b></span>
                        <a href="#getPlayerConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getPlayerConfig()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="349"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:349</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>VeronaPlayerConfig</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="gotoPage"></a>
                    <span class="name">
                        <span ><b>gotoPage</b></span>
                        <a href="#gotoPage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>gotoPage(navigationTarget: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="399"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:399</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>navigationTarget</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleIncomingMessage"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>handleIncomingMessage</b></span>
                        <a href="#handleIncomingMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleIncomingMessage(messageEvent: MessageEvent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="82"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:82</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>messageEvent</td>
                                    <td>
                                            <code>MessageEvent</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleNavigationDenial"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>handleNavigationDenial</b></span>
                        <a href="#handleNavigationDenial"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleNavigationDenial(navigationDenial: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="409"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:409</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>navigationDenial</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="78"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:78</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="64"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:64</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onKeydownInClearCodeInput"></a>
                    <span class="name">
                        <span ><b>onKeydownInClearCodeInput</b></span>
                        <a href="#onKeydownInClearCodeInput"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onKeydownInClearCodeInput($event: KeyboardEvent)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="445"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:445</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>$event</td>
                                    <td>
                                            <code>KeyboardEvent</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onResize"></a>
                    <span class="name">
                        <span ><b>onResize</b></span>
                        <a href="#onResize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onResize()</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@HostListener(&#x27;window:resize&#x27;)<br /></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="343"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:343</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="open"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>open</b></span>
                        <a href="#open"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>open(currentUnitSequenceId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="213"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:213</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>currentUnitSequenceId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="prepareIframe"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>prepareIframe</b></span>
                        <a href="#prepareIframe"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>prepareIframe()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="327"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:327</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="prepareUnit"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>prepareUnit</b></span>
                        <a href="#prepareUnit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>prepareUnit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="257"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:257</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="runUnit"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>runUnit</b></span>
                        <a href="#runUnit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>runUnit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="279"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:279</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startTimerIfNecessary"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>startTimerIfNecessary</b></span>
                        <a href="#startTimerIfNecessary"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>startTimerIfNecessary()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="312"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:312</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="verifyCodes"></a>
                    <span class="name">
                        <span ><b>verifyCodes</b></span>
                        <a href="#verifyCodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>verifyCodes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="423"
                            class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:423</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearCodes"></a>
                    <span class="name">
                        <span ><b>clearCodes</b></span>
                        <a href="#clearCodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:53</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="codeRequiringTestlets"></a>
                    <span class="name">
                        <span ><b>codeRequiringTestlets</b></span>
                        <a href="#codeRequiringTestlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Testlet.html" target="_self" >Testlet[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:54</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentPageIndex"></a>
                    <span class="name">
                        <span ><b>currentPageIndex</b></span>
                        <a href="#currentPageIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:50</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentUnit"></a>
                    <span class="name">
                        <span ><b>currentUnit</b></span>
                        <a href="#currentUnit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Unit.html" target="_self" >UnitControllerData</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:49</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentUnitSequenceId"></a>
                    <span class="name">
                        <span ><b>currentUnitSequenceId</b></span>
                        <a href="#currentUnitSequenceId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>-1</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:39</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="iFrameHostElement"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>iFrameHostElement</b></span>
                        <a href="#iFrameHostElement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>HTMLElement</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:32</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="iFrameItemplayer"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>iFrameItemplayer</b></span>
                        <a href="#iFrameItemplayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>HTMLIFrameElement</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:33</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="itemplayerSessionId"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>itemplayerSessionId</b></span>
                        <a href="#itemplayerSessionId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:41</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="knownPages"></a>
                    <span class="name">
                        <span ><b>knownPages</b></span>
                        <a href="#knownPages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type[]</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:45</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="leaveWarning"></a>
                    <span class="name">
                        <span ><b>leaveWarning</b></span>
                        <a href="#leaveWarning"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:35</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pendingUnitData"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>pendingUnitData</b></span>
                        <a href="#pendingUnitData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/PendingUnitData.html" target="_self" >PendingUnitData</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:43</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="postMessageTarget"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>postMessageTarget</b></span>
                        <a href="#postMessageTarget"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Window</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:42</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showPageNav"></a>
                    <span class="name">
                        <span ><b>showPageNav</b></span>
                        <a href="#showPageNav"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:37</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subscriptions"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>subscriptions</b></span>
                        <a href="#subscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:34</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tcs"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>tcs</b></span>
                        <a href="#tcs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/TestControllerService.html" target="_self" >TestControllerService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:57</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unitNavigationTarget"></a>
                    <span class="name">
                        <span ><b>unitNavigationTarget</b></span>
                        <a href="#unitNavigationTarget"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>UnitNavigationTarget</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:51</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unitsLoading$"></a>
                    <span class="name">
                        <span ><b>unitsLoading$</b></span>
                        <a href="#unitsLoading$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/LoadingProgress.html" target="_self" >BehaviorSubject&lt;LoadingProgress[]&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;LoadingProgress[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:46</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unitsToLoadLabels"></a>
                    <span class="name">
                        <span ><b>unitsToLoadLabels</b></span>
                        <a href="#unitsToLoadLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[]</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">frontend/src/app/test-controller/components/unithost/unithost.component.ts:47</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { BehaviorSubject, combineLatest, Subscription } from &#x27;rxjs&#x27;;
import {
  Component, HostListener, OnInit, OnDestroy
} from &#x27;@angular/core&#x27;;
import { ActivatedRoute } from &#x27;@angular/router&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import {
  TestStateKey,
  WindowFocusState,
  PendingUnitData,
  StateReportEntry,
  UnitStateKey,
  UnitPlayerState, LoadingProgress, UnitNavigationTarget
} from &#x27;../../interfaces/test-controller.interfaces&#x27;;
import { BackendService } from &#x27;../../services/backend.service&#x27;;
import { TestControllerService } from &#x27;../../services/test-controller.service&#x27;;
import { MainDataService } from &#x27;../../../shared/shared.module&#x27;;
import {
  VeronaNavigationDeniedReason, VeronaNavigationTarget, VeronaPlayerConfig, VeronaProgress
} from &#x27;../../interfaces/verona.interfaces&#x27;;
import { Testlet, UnitControllerData } from &#x27;../../classes/test-controller.classes&#x27;;

declare let srcDoc;

@Component({
  templateUrl: &#x27;./unithost.component.html&#x27;,
  styleUrls: [&#x27;./unithost.component.css&#x27;]
})

export class UnithostComponent implements OnInit, OnDestroy {
  private iFrameHostElement: HTMLElement;
  private iFrameItemplayer: HTMLIFrameElement;
  private subscriptions: { [tag: string ]: Subscription } &#x3D; {};
  leaveWarning &#x3D; false;

  showPageNav &#x3D; false;

  currentUnitSequenceId &#x3D; -1;

  private itemplayerSessionId &#x3D; &#x27;&#x27;;
  private postMessageTarget: Window &#x3D; null;
  private pendingUnitData: PendingUnitData &#x3D; null; // TODO this is redundant, get rid of it

  knownPages: { id: string; label: string }[];
  unitsLoading$: BehaviorSubject&lt;LoadingProgress[]&gt; &#x3D; new BehaviorSubject&lt;LoadingProgress[]&gt;([]);
  unitsToLoadLabels: string[];

  currentUnit: UnitControllerData;
  currentPageIndex: number;
  unitNavigationTarget &#x3D; UnitNavigationTarget;

  clearCodes &#x3D; {};
  codeRequiringTestlets: Testlet[] &#x3D; [];

  constructor(
    public tcs: TestControllerService,
    private mds: MainDataService,
    private bs: BackendService,
    private route: ActivatedRoute,
    private snackBar: MatSnackBar
  ) { }

  ngOnInit(): void {
    this.iFrameHostElement &#x3D; &lt;HTMLElement&gt;document.querySelector(&#x27;#iframe-host&#x27;);
    this.iFrameItemplayer &#x3D; null;
    this.leaveWarning &#x3D; false;
    setTimeout(() &#x3D;&gt; {
      this.subscriptions.postMessage &#x3D; this.mds.postMessage$
        .subscribe(messageEvent &#x3D;&gt; this.handleIncomingMessage(messageEvent));
      this.subscriptions.routing &#x3D; this.route.params
        .subscribe(params &#x3D;&gt; this.open(Number(params.u)));
      this.subscriptions.navigationDenial &#x3D; this.tcs.navigationDenial
        .subscribe(navigationDenial &#x3D;&gt; this.handleNavigationDenial(navigationDenial));
    });
  }

  ngOnDestroy(): void {
    Object.values(this.subscriptions).forEach(subscription &#x3D;&gt; subscription.unsubscribe());
  }

  private handleIncomingMessage(messageEvent: MessageEvent): void {
    const msgData &#x3D; messageEvent.data;
    const msgType &#x3D; msgData.type;
    let msgPlayerId &#x3D; msgData.sessionId;
    if ((msgPlayerId &#x3D;&#x3D;&#x3D; undefined) || (msgPlayerId &#x3D;&#x3D;&#x3D; null)) {
      msgPlayerId &#x3D; this.itemplayerSessionId;
    }

    // todo: remove &#x27;player&#x27;
    switch (msgType) {
      case &#x27;vopReadyNotification&#x27;:
      case &#x27;player&#x27;:
        // TODO add apiVersion check
        if (!this.pendingUnitData || this.pendingUnitData.playerId !&#x3D;&#x3D; msgPlayerId) {
          this.pendingUnitData &#x3D; {
            unitDefinitionType: &#x27;&#x27;,
            unitDefinition: &#x27;&#x27;,
            unitState: {
              unitStateDataType: &#x27;&#x27;,
              dataParts: {},
              presentationProgress: &#x27;none&#x27;,
              responseProgress: &#x27;none&#x27;
            },
            playerId: &#x27;&#x27;,
            currentPage: null
          };
        }
        if (this.tcs.testMode.saveResponses) {
          this.bs.updateUnitState(this.tcs.testId, this.currentUnit.unitDef.alias, [&lt;StateReportEntry&gt;{
            key: UnitStateKey.PLAYER, timeStamp: Date.now(), content: UnitPlayerState.RUNNING
          }]);
        }
        this.postMessageTarget &#x3D; messageEvent.source as Window;

        this.postMessageTarget.postMessage({
          type: &#x27;vopStartCommand&#x27;,
          sessionId: this.itemplayerSessionId,
          unitDefinition: this.pendingUnitData.unitDefinition,
          unitDefinitionType: this.pendingUnitData.unitDefinitionType,
          unitState: this.pendingUnitData.unitState,
          playerConfig: this.getPlayerConfig()
        }, &#x27;*&#x27;);

        // TODO maybe clean up memory?

        break;

      case &#x27;vopStateChangedNotification&#x27;:
        if (msgPlayerId &#x3D;&#x3D;&#x3D; this.itemplayerSessionId) {
          console.log(&#x27;vopStateChangedNotification&#x27;, msgData);
          if (msgData.playerState) {
            const { playerState } &#x3D; msgData;

            if (playerState.validPages) {
              this.knownPages &#x3D; Object.keys(playerState.validPages)
                .map(id &#x3D;&gt; ({ id, label: playerState.validPages[id] }));
            }

            this.currentPageIndex &#x3D; this.knownPages.findIndex(page &#x3D;&gt; page.id &#x3D;&#x3D;&#x3D; playerState.currentPage);

            if (typeof playerState.currentPage !&#x3D;&#x3D; &#x27;undefined&#x27;) {
              const pageId &#x3D; playerState.currentPage;
              const pageNr &#x3D; this.knownPages.indexOf(playerState.currentPage) + 1;
              const pageCount &#x3D; this.knownPages.length;
              if (this.knownPages.length &gt; 1 &amp;&amp; this.knownPages.indexOf(playerState.currentPage) &gt;&#x3D; 0) {
                this.tcs.newUnitStateCurrentPage(
                  this.currentUnit.unitDef.alias,
                  this.currentUnitSequenceId,
                  pageNr,
                  pageId,
                  pageCount
                );
              }
            }
          }
          const unitDbKey &#x3D; this.currentUnit.unitDef.alias;
          if (msgData.unitState) {
            const { unitState } &#x3D; msgData;
            const { presentationProgress, responseProgress } &#x3D; unitState;

            if (presentationProgress) {
              this.tcs.updateUnitStatePresentationProgress(unitDbKey, this.currentUnitSequenceId, presentationProgress);
            }

            if (responseProgress) {
              this.tcs.newUnitStateResponseProgress(unitDbKey, this.currentUnitSequenceId, responseProgress);
            }

            if (unitState?.dataParts) {
              // in pre-verona4-times it was not entirely clear if the stringification of the dataParts should be made
              // by the player itself ot the host. To maintain backwards-compatibility we check this here.
              Object.keys(unitState.dataParts)
                .forEach(dataPartId &#x3D;&gt; {
                  if (typeof unitState.dataParts[dataPartId] !&#x3D;&#x3D; &#x27;string&#x27;) {
                    unitState.dataParts[dataPartId] &#x3D; JSON.stringify(unitState.dataParts[dataPartId]);
                  }
                });
              this.tcs.updateUnitStateDataParts(unitDbKey, this.currentUnitSequenceId,
                unitState.dataParts, unitState.unitStateDataType);
            }
          }
          if (msgData.log) {
            this.bs.addUnitLog(this.tcs.testId, unitDbKey, msgData.log);
          }
        }
        break;

      case &#x27;vopUnitNavigationRequestedNotification&#x27;:
        if (msgPlayerId &#x3D;&#x3D;&#x3D; this.itemplayerSessionId) {
          // support Verona2 and Verona3 version
          const target &#x3D; msgData.target ? &#x60;#${msgData.target}&#x60; : msgData.targetRelative;
          this.tcs.setUnitNavigationRequest(target);
        }
        break;

      case &#x27;vopWindowFocusChangedNotification&#x27;:
        if (msgData.hasFocus) {
          this.tcs.windowFocusState$.next(WindowFocusState.PLAYER);
        } else if (document.hasFocus()) {
          this.tcs.windowFocusState$.next(WindowFocusState.HOST);
        } else {
          this.tcs.windowFocusState$.next(WindowFocusState.UNKNOWN);
        }
        break;

      default:
        console.log(&#x60;processMessagePost ignored message: ${msgType}&#x60;);
        break;
    }
  }

  private open(currentUnitSequenceId: number): void {
    this.currentUnitSequenceId &#x3D; currentUnitSequenceId;
    this.tcs.currentUnitSequenceId &#x3D; this.currentUnitSequenceId;
    this.mds.appSubTitle$.next(&#x60;Aufgabe ${this.currentUnitSequenceId}&#x60;);

    while (this.iFrameHostElement.hasChildNodes()) {
      this.iFrameHostElement.removeChild(this.iFrameHostElement.lastChild);
    }

    this.currentPageIndex &#x3D; undefined;
    this.knownPages &#x3D; [];

    this.currentUnit &#x3D; this.tcs.rootTestlet.getUnitAt(this.currentUnitSequenceId);

    if (this.subscriptions.loading) {
      this.subscriptions.loading.unsubscribe();
    }

    const unitsToLoadIds &#x3D; this.currentUnit.maxTimerRequiringTestlet ?
      this.tcs.rootTestlet.getAllUnitSequenceIds(this.currentUnit.maxTimerRequiringTestlet?.id) :
      [currentUnitSequenceId];

    const unitsToLoad &#x3D; unitsToLoadIds
      .map(unitSequenceId &#x3D;&gt; this.tcs.getUnitLoadProgress$(unitSequenceId));

    this.unitsToLoadLabels &#x3D; unitsToLoadIds
      .map(unitSequenceId &#x3D;&gt; this.tcs.rootTestlet.getUnitAt(unitSequenceId).unitDef.title);

    this.subscriptions.loading &#x3D; combineLatest&lt;LoadingProgress[]&gt;(unitsToLoad)
      .subscribe({
        next: value &#x3D;&gt; {
          this.unitsLoading$.next(value);
        },
        error: err &#x3D;&gt; {
          this.mds.appError$.next({
            label: &#x60;Unit konnte nicht geladen werden. ${err.info}&#x60;, // TODO which item failed?
            description: (err.info) ? err.info : err,
            category: &#x27;ERROR&#x27;
          });
        },
        complete: () &#x3D;&gt; this.prepareUnit()
      });
  }

  private prepareUnit(): void {
    this.unitsLoading$.next([]);
    this.tcs.currentUnitDbKey &#x3D; this.currentUnit.unitDef.alias;
    this.tcs.currentUnitTitle &#x3D; this.currentUnit.unitDef.title;

    if (this.tcs.testMode.saveResponses) {
      this.bs.updateTestState(this.tcs.testId, [&lt;StateReportEntry&gt;{
        key: TestStateKey.CURRENT_UNIT_ID, timeStamp: Date.now(), content: this.currentUnit.unitDef.alias
      }]);
      this.bs.updateUnitState(this.tcs.testId, this.currentUnit.unitDef.alias, [&lt;StateReportEntry&gt;{
        key: UnitStateKey.PLAYER, timeStamp: Date.now(), content: UnitPlayerState.LOADING
      }]);
    }

    if (this.tcs.testMode.presetCode) {
      this.currentUnit.codeRequiringTestlets
        .forEach(testlet &#x3D;&gt; { this.clearCodes[testlet.id] &#x3D; testlet.codeToEnter; });
    }

    this.runUnit();
  }

  private runUnit(): void {
    this.codeRequiringTestlets &#x3D; this.currentUnit.codeRequiringTestlets
      .filter(testlet &#x3D;&gt; !this.tcs.clearCodeTestlets.includes(testlet.id));

    if (this.codeRequiringTestlets.length) {
      return;
    }

    if (this.currentUnit.unitDef.locked) {
      return;
    }

    this.startTimerIfNecessary();

    this.itemplayerSessionId &#x3D; Math.floor(Math.random() * 20000000 + 10000000).toString();

    this.pendingUnitData &#x3D; {
      playerId: this.itemplayerSessionId,
      unitDefinition: this.tcs.getUnitDefinition(this.currentUnitSequenceId),
      currentPage: this.tcs.getUnitStateCurrentPage(this.currentUnitSequenceId),
      unitDefinitionType: this.tcs.getUnitDefinitionType(this.currentUnitSequenceId),
      unitState: {
        dataParts: this.tcs.getUnitStateDataParts(this.currentUnitSequenceId),
        unitStateDataType: this.tcs.getUnitStateDataType(this.currentUnitSequenceId),
        presentationProgress: &lt;VeronaProgress&gt; this.tcs.getUnitPresentationProgress(this.currentUnitSequenceId),
        responseProgress: &lt;VeronaProgress&gt; this.tcs.getUnitResponseProgress(this.currentUnitSequenceId)
      }
    };
    this.leaveWarning &#x3D; false;

    this.prepareIframe();
  }

  private startTimerIfNecessary(): void {
    if (this.currentUnit.maxTimerRequiringTestlet &#x3D;&#x3D;&#x3D; null) {
      return;
    }
    if (this.tcs.currentMaxTimerTestletId &amp;&amp;
      (this.currentUnit.maxTimerRequiringTestlet.id &#x3D;&#x3D;&#x3D; this.tcs.currentMaxTimerTestletId)
    ) {
      return;
    }
    this.tcs.startMaxTimer(
      this.currentUnit.maxTimerRequiringTestlet.id,
      this.currentUnit.maxTimerRequiringTestlet.maxTimeLeft
    );
  }

  private prepareIframe(): void {
    this.iFrameItemplayer &#x3D; &lt;HTMLIFrameElement&gt;document.createElement(&#x27;iframe&#x27;);
    if (!(&#x27;srcdoc&#x27; in this.iFrameItemplayer)) { // in IE11, we use a polyfill. But this can not work with sandbox
      this.iFrameItemplayer.setAttribute(&#x27;sandbox&#x27;, &#x27;allow-forms allow-scripts allow-popups&#x27;);
    }
    this.iFrameItemplayer.setAttribute(&#x27;class&#x27;, &#x27;unitHost&#x27;);
    this.adjustIframeSize();
    this.iFrameHostElement.appendChild(this.iFrameItemplayer);
    srcDoc.set(this.iFrameItemplayer, this.tcs.getPlayer(this.currentUnit.unitDef.playerId), { force: false });
  }

  private adjustIframeSize(): void {
    this.iFrameItemplayer.setAttribute(&#x27;height&#x27;, String(this.iFrameHostElement.clientHeight));
  }

  @HostListener(&#x27;window:resize&#x27;)
  onResize(): void {
    if (this.iFrameItemplayer &amp;&amp; this.iFrameHostElement) {
      this.adjustIframeSize();
    }
  }

  private getPlayerConfig(): VeronaPlayerConfig {
    const playerConfig: VeronaPlayerConfig &#x3D; {
      enabledNavigationTargets: UnithostComponent.getEnabledNavigationTargets(
        this.currentUnitSequenceId,
        1,
        this.tcs.allUnitIds.length,
        this.tcs.bookletConfig.allow_player_to_terminate_test
      ),
      logPolicy: this.tcs.bookletConfig.logPolicy,
      pagingMode: this.tcs.bookletConfig.pagingMode,
      stateReportPolicy: &#x27;eager&#x27;, // TODO implement stateReportPolicy &#x27;on-demand&#x27; and &#x27;none&#x27;, then this can be
      // stateReportPolicy: this.tcs.bookletConfig.stateReportPolicy,
      unitNumber: this.currentUnitSequenceId,
      unitTitle: this.tcs.currentUnitTitle,
      unitId: this.currentUnit.unitDef.alias,
      directDownloadUrl: &#x60;${this.bs.serverUrl}${MainDataService.getAuthData()?.token}/resource&#x60;
    };
    if (this.pendingUnitData.currentPage &amp;&amp; (this.tcs.bookletConfig.restore_current_page_on_return &#x3D;&#x3D;&#x3D; &#x27;ON&#x27;)) {
      playerConfig.startPage &#x3D; this.pendingUnitData.currentPage;
    }
    return playerConfig;
  }

  private static getEnabledNavigationTargets(
    nr: number, min: number, max: number,
    terminationAllowed: &#x27;ON&#x27; | &#x27;OFF&#x27; | &#x27;LAST_UNIT&#x27; &#x3D; &#x27;ON&#x27;
  ): VeronaNavigationTarget[] {
    const navigationTargets &#x3D; [];
    if (nr &lt; max) {
      navigationTargets.push(&#x27;next&#x27;);
    }
    if (nr &gt; min) {
      navigationTargets.push(&#x27;previous&#x27;);
    }
    if (nr !&#x3D;&#x3D; min) {
      navigationTargets.push(&#x27;first&#x27;);
    }
    if (nr !&#x3D;&#x3D; max) {
      navigationTargets.push(&#x27;last&#x27;);
    }
    if (terminationAllowed &#x3D;&#x3D;&#x3D; &#x27;ON&#x27;) {
      navigationTargets.push(&#x27;end&#x27;);
    }
    if ((terminationAllowed &#x3D;&#x3D;&#x3D; &#x27;LAST_UNIT&#x27;) &amp;&amp; (nr &#x3D;&#x3D;&#x3D; max)) {
      navigationTargets.push(&#x27;end&#x27;);
    }

    return navigationTargets;
  }

  gotoPage(navigationTarget: string): void {
    if (typeof this.postMessageTarget !&#x3D;&#x3D; &#x27;undefined&#x27;) {
      this.postMessageTarget.postMessage({
        type: &#x27;vopPageNavigationCommand&#x27;,
        sessionId: this.itemplayerSessionId,
        target: navigationTarget
      }, &#x27;*&#x27;);
    }
  }

  private handleNavigationDenial(
    navigationDenial: { sourceUnitSequenceId: number; reason: VeronaNavigationDeniedReason[] }
  ): void {
    if (navigationDenial.sourceUnitSequenceId !&#x3D;&#x3D; this.currentUnitSequenceId) {
      return;
    }

    this.postMessageTarget.postMessage({
      type: &#x27;vopNavigationDeniedNotification&#x27;,
      sessionId: this.itemplayerSessionId,
      reason: navigationDenial.reason
    }, &#x27;*&#x27;);
  }

  verifyCodes(): void {
    this.currentUnit.codeRequiringTestlets
      .forEach(
        testlet &#x3D;&gt; {
          if (!this.clearCodes[testlet.id]) {
            return;
          }
          if (testlet.codeToEnter.toUpperCase().trim() &#x3D;&#x3D;&#x3D; this.clearCodes[testlet.id].toUpperCase().trim()) {
            this.tcs.addClearedCodeTestlet(testlet.id);
            this.runUnit();
          } else {
            this.snackBar.open(
              &#x60;Freigabewort &#x27;${this.clearCodes[testlet.id]}&#x27; für &#x27;${testlet.title}&#x27; stimmt nicht.&#x60;,
              &#x27;OK&#x27;,
              { duration: 3000 }
            );
            delete this.clearCodes[testlet.id];
          }
        }
      );
  }

  onKeydownInClearCodeInput($event: KeyboardEvent): void {
    if ($event.key &#x3D;&#x3D;&#x3D; &#x27;Enter&#x27;) {
      this.verifyCodes();
    }
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div
    [class]&#x3D;&quot;{
      &#x27;unit-host&#x27;: true,
      &#x27;with-header&#x27;: tcs.bookletConfig.unit_screenheader !&#x3D;&#x3D; &#x27;OFF&#x27;,
      &#x27;with-title&#x27;: tcs.bookletConfig.unit_title &#x3D;&#x3D;&#x3D; &#x27;ON&#x27;,
      &#x27;with-footer&#x27;: tcs.bookletConfig.page_navibuttons &#x3D;&#x3D;&#x3D; &#x27;SEPARATE_BOTTOM&#x27;,
      &#x27;is-waiting&#x27;: currentUnit?.unitDef?.locked || (unitsLoading$ | async).length || codeRequiringTestlets.length
  }&quot;
&gt;
  &lt;div
    *ngIf&#x3D;&quot;tcs.bookletConfig.unit_title &#x3D;&#x3D;&#x3D; &#x27;ON&#x27;&quot;
    id&#x3D;&quot;unit-title&quot;
    fxLayout&#x3D;&quot;column&quot;
    fxLayoutAlign&#x3D;&quot;center center&quot;
  &gt;
    &lt;p&gt;{{currentUnit?.unitDef?.title}}&lt;/p&gt;
  &lt;/div&gt;

  &lt;div id&#x3D;&quot;iframe-host&quot;&gt;
  &lt;/div&gt;

  &lt;ng-container *ngIf&#x3D;&quot;{ list: (unitsLoading$ | async) } as loadingUnits&quot;&gt;
    &lt;div id&#x3D;&quot;waiting-room&quot; *ngIf&#x3D;&quot;loadingUnits.list.length || currentUnit?.unitDef?.locked || codeRequiringTestlets.length&quot;&gt;
      &lt;mat-card&gt;
        &lt;mat-card-title&gt;
          {{(loadingUnits.list.length &gt; 1 || currentUnit.codeRequiringTestlets.length) ? currentUnit?.testletLabel : currentUnit?.unitDef?.title}}
        &lt;/mat-card-title&gt;
        &lt;mat-card-subtitle *ngIf&#x3D;&quot;loadingUnits.list.length &gt; 1&quot;&gt;
          {{&#x27;Aufgabenblock wird geladen&#x27; | customtext:&#x27;booklet_loadingBlock&#x27; | async}}
        &lt;/mat-card-subtitle&gt;
        &lt;mat-card-subtitle *ngIf&#x3D;&quot;loadingUnits.list.length &#x3D;&#x3D;&#x3D; 1&quot;&gt;
          {{&#x27;Aufgabe wird geladen&#x27; | customtext:&#x27;booklet_loadingUnit&#x27; | async}}
        &lt;/mat-card-subtitle&gt;
        &lt;mat-card-subtitle *ngIf&#x3D;&quot;currentUnit?.unitDef?.locked&quot;&gt;
          {{&#x27;Aufgabenzeit ist abgelaufen&#x27; | customtext:&#x27;booklet_lockedBlock&#x27; | async}}
        &lt;/mat-card-subtitle&gt;
        &lt;mat-card-subtitle *ngIf&#x3D;&quot;currentUnit.codeRequiringTestlets.length&quot;&gt;
          {{&#x27;Aufgabenblock ist noch gesperrt&#x27; | customtext:&#x27;booklet_codeToEnterTitle&#x27; | async}}
        &lt;/mat-card-subtitle&gt;

        &lt;mat-card-content *ngIf&#x3D;&quot;codeRequiringTestlets.length&quot;&gt;
          &lt;ng-container *ngFor&#x3D;&quot;let testlet of codeRequiringTestlets&quot;&gt;
            &lt;mat-form-field style&#x3D;&quot;display: block&quot;&gt;
              &lt;mat-label&gt;{{testlet.title || (&#x27;Block &#x27; + (testlet.sequenceId + 1))}}&lt;/mat-label&gt;
              &lt;input
                matInput
                type&#x3D;&quot;text&quot;
                [(ngModel)]&#x3D;&quot;clearCodes[testlet.id]&quot;
                style&#x3D;&quot;text-transform:uppercase&quot;
                (keydown)&#x3D;&quot;onKeydownInClearCodeInput($event)&quot;
              &gt;
              &lt;mat-hint align&#x3D;&quot;start&quot; *ngIf&#x3D;&quot;testlet.codePrompt&quot;&gt;{{testlet.codePrompt}}&lt;/mat-hint&gt;
              &lt;mat-hint *ngIf&#x3D;&quot;!testlet.codePrompt&quot;&gt;
                {{&#x27;Bitte Freigabewort eingeben!&#x27; | customtext:&#x27;booklet_codeToEnterPrompt&#x27; | async}}
              &lt;/mat-hint&gt;
            &lt;/mat-form-field&gt;
          &lt;/ng-container&gt;
        &lt;/mat-card-content&gt;
        &lt;mat-card-content&gt;
          &lt;ng-container *ngFor&#x3D;&quot;let loading of loadingUnits.list; let index &#x3D; index&quot;&gt;
            &lt;mat-progress-bar
              color&#x3D;&quot;primary&quot;
              [mode]&#x3D;&quot;({&#x27;UNKNOWN&#x27;: &#x27;indeterminate&#x27;, &#x27;PENDING&#x27;: &#x27;query&#x27;})[loading.progress] || &#x27;determinate&#x27;&quot;
              [value]&#x3D;&quot;loading.progress&quot;
            &gt;
            &lt;/mat-progress-bar&gt;
            &lt;p class&#x3D;&quot;progress-bar-sub-text&quot;&gt;
              {{unitsToLoadLabels[index]}}
              &lt;ng-container [ngSwitch]&#x3D;&quot;loading.progress&quot;&gt;
                &lt;span *ngSwitchCase&#x3D;&quot;&#x27;UNKNOWN&#x27;&quot;&gt;
                  ({{&#x27;wird geladen&#x27; | customtext:&#x27;booklet_unitLoadingUnknownProgress&#x27; | async}})
                &lt;/span&gt;
                &lt;span *ngSwitchCase&#x3D;&quot;&#x27;PENDING&#x27;&quot;&gt;
                  ({{&#x27;in der Warteschleife&#x27; | customtext:&#x27;booklet_unitLoadingPending&#x27; | async}})
                &lt;/span&gt;
                &lt;span *ngSwitchDefault&gt;
                  ({{loading.progress}}% {{&#x27;geladen&#x27; | customtext:&#x27;booklet_unitLoading&#x27; | async}})
                &lt;/span&gt;
              &lt;/ng-container&gt;
            &lt;/p&gt;
          &lt;/ng-container&gt;
        &lt;/mat-card-content&gt;

        &lt;mat-card-actions&gt;
          &lt;button
            *ngIf&#x3D;&quot;codeRequiringTestlets.length&quot;
            mat-raised-button
            color&#x3D;&quot;primary&quot;
            [disabled]&#x3D;&quot;(clearCodes | keyvalue)?.length &lt; codeRequiringTestlets.length&quot;
            (click)&#x3D;&quot;verifyCodes()&quot;
          &gt;
            OK
          &lt;/button&gt;
          &lt;button
            *ngIf&#x3D;&quot;tcs.bookletConfig.unit_navibuttons &#x3D;&#x3D;&#x3D; &#x27;OFF&#x27;&quot;
            mat-raised-button
            [disabled]&#x3D;&quot;tcs.currentUnitSequenceId &#x3D;&#x3D;&#x3D; 0&quot;
            (click)&#x3D;&quot;tcs.setUnitNavigationRequest(unitNavigationTarget.PREVIOUS)&quot; matTooltip&#x3D;&quot;Zurück&quot; fxFlex&#x3D;&quot;none&quot;
          &gt;
            &lt;i class&#x3D;&quot;material-icons&quot;&gt;chevron_left&lt;/i&gt;
          &lt;/button&gt;
          &lt;button
            *ngIf&#x3D;&quot;tcs.bookletConfig.unit_navibuttons &#x3D;&#x3D;&#x3D; &#x27;OFF&#x27;&quot;
            mat-raised-button
            [disabled]&#x3D;&quot;tcs.currentUnitSequenceId &gt;&#x3D; tcs.allUnitIds.length&quot;
            (click)&#x3D;&quot;tcs.setUnitNavigationRequest(unitNavigationTarget.NEXT)&quot; matTooltip&#x3D;&quot;Weiter&quot; fxFlex&#x3D;&quot;none&quot;
          &gt;
            &lt;i class&#x3D;&quot;material-icons&quot;&gt;chevron_right&lt;/i&gt;
          &lt;/button&gt;
        &lt;/mat-card-actions&gt;
      &lt;/mat-card&gt;
    &lt;/div&gt;
  &lt;/ng-container&gt;

  &lt;div
    id&#x3D;&quot;page-navigation&quot;
    fxLayout&#x3D;&quot;row&quot;
    fxLayoutAlign&#x3D;&quot;end center&quot;
    fxLayoutGap&#x3D;&quot;10px&quot;
    *ngIf&#x3D;&quot;tcs.bookletConfig.page_navibuttons &#x3D;&#x3D;&#x3D; &#x27;SEPARATE_BOTTOM&#x27;&quot;
  &gt;
    &lt;div fxLayout&#x3D;&quot;row&quot; fxLayoutAlign&#x3D;&quot;space-between center&quot; *ngIf&#x3D;&quot;knownPages &amp;&amp; knownPages.length &amp;&amp; (knownPages.length &gt; 1)&quot;&gt;
      &lt;div id&#x3D;&quot;page-navigation-prompt&quot;&gt;
        {{ &#x27;&#x27;  | customtext:&#x27;login_pagesNaviPrompt&#x27; | async}}
      &lt;/div&gt;

      &lt;mat-button-toggle-group&gt;
        &lt;mat-button-toggle
          [disabled]&#x3D;&quot;currentPageIndex &lt;&#x3D; 0&quot;
          (click)&#x3D;&quot;gotoPage(knownPages[currentPageIndex - 1].id);&quot;
          fxLayout&#x3D;&quot;row&quot;
          fxLayoutAlign&#x3D;&quot;center center&quot;
        &gt;
          &lt;i class&#x3D;&quot;material-icons&quot;&gt;chevron_left&lt;/i&gt;
        &lt;/mat-button-toggle&gt;

        &lt;mat-button-toggle
          *ngFor&#x3D;&quot;let page of knownPages; let index &#x3D; index&quot;
          fxLayout&#x3D;&quot;column&quot;
          (click)&#x3D;&quot;gotoPage(page.id)&quot;
          [matTooltip]&#x3D;&quot;page.label&quot;
          [checked]&#x3D;&quot;currentPageIndex &#x3D;&#x3D;&#x3D; index&quot;
        &gt;
          {{ index + 1 }}
        &lt;/mat-button-toggle&gt;

        &lt;mat-button-toggle
          [disabled]&#x3D;&quot;currentPageIndex &gt;&#x3D; knownPages.length - 1&quot;
          (click)&#x3D;&quot;gotoPage(knownPages[currentPageIndex + 1].id);&quot;
          fxLayout&#x3D;&quot;row&quot;
          fxLayoutAlign&#x3D;&quot;center center&quot;
        &gt;
          &lt;i class&#x3D;&quot;material-icons&quot;&gt;chevron_right&lt;/i&gt;
        &lt;/mat-button-toggle&gt;
      &lt;/mat-button-toggle-group&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./unithost.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">:host {
  width: 100%
}

#iframe-host {
  position: fixed;
  width: 100%;
  top: 0;
  bottom: 0;
  padding: 0;
  background-color: white;
}

.with-header #iframe-host {
  top: 65px;
}

.with-title #iframe-host {
  top: 40px;
}

.with-header.with-title #iframe-host {
  top: 105px;
}

.with-footer #iframe-host {
  bottom: 45px;
}

#waiting-room {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: auto;
  max-width: 50%;
}

#waiting-room mat-card {
  margin: 4em;
}

#waiting-room .progress-bar-sub-text {
  margin-top: 0.1em
}

#unit-title {
  position: absolute;
  width: 100%;
  top: 0;
  height: 39px;
  font-size: 1.5em;
  background-color: white;
  border-bottom: solid 1px black;
  white-space: nowrap;
  text-overflow: clip;
  overflow: hidden;
}

.is-waiting #iframe-host,
.is-waiting #unit-title {
  visibility: hidden;
}

#page-navigation {
  position: absolute;
  width: 100%;
  height: 45px;
  bottom: 0;
  padding: 0 16px;
  font-size: 1.2em;
}

#page-navigation-prompt {
  padding-right: 8px;
  color: white;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div    [class]="{      \'unit-host\': true,      \'with-header\': tcs.bookletConfig.unit_screenheader !== \'OFF\',      \'with-title\': tcs.bookletConfig.unit_title === \'ON\',      \'with-footer\': tcs.bookletConfig.page_navibuttons === \'SEPARATE_BOTTOM\',      \'is-waiting\': currentUnit?.unitDef?.locked || (unitsLoading$ | async).length || codeRequiringTestlets.length  }">  <div    *ngIf="tcs.bookletConfig.unit_title === \'ON\'"    id="unit-title"    fxLayout="column"    fxLayoutAlign="center center"  >    <p>{{currentUnit?.unitDef?.title}}</p>  </div>  <div id="iframe-host">  </div>  <ng-container *ngIf="{ list: (unitsLoading$ | async) } as loadingUnits">    <div id="waiting-room" *ngIf="loadingUnits.list.length || currentUnit?.unitDef?.locked || codeRequiringTestlets.length">      <mat-card>        <mat-card-title>          {{(loadingUnits.list.length > 1 || currentUnit.codeRequiringTestlets.length) ? currentUnit?.testletLabel : currentUnit?.unitDef?.title}}        </mat-card-title>        <mat-card-subtitle *ngIf="loadingUnits.list.length > 1">          {{\'Aufgabenblock wird geladen\' | customtext:\'booklet_loadingBlock\' | async}}        </mat-card-subtitle>        <mat-card-subtitle *ngIf="loadingUnits.list.length === 1">          {{\'Aufgabe wird geladen\' | customtext:\'booklet_loadingUnit\' | async}}        </mat-card-subtitle>        <mat-card-subtitle *ngIf="currentUnit?.unitDef?.locked">          {{\'Aufgabenzeit ist abgelaufen\' | customtext:\'booklet_lockedBlock\' | async}}        </mat-card-subtitle>        <mat-card-subtitle *ngIf="currentUnit.codeRequiringTestlets.length">          {{\'Aufgabenblock ist noch gesperrt\' | customtext:\'booklet_codeToEnterTitle\' | async}}        </mat-card-subtitle>        <mat-card-content *ngIf="codeRequiringTestlets.length">          <ng-container *ngFor="let testlet of codeRequiringTestlets">            <mat-form-field style="display: block">              <mat-label>{{testlet.title || (\'Block \' + (testlet.sequenceId + 1))}}</mat-label>              <input                matInput                type="text"                [(ngModel)]="clearCodes[testlet.id]"                style="text-transform:uppercase"                (keydown)="onKeydownInClearCodeInput($event)"              >              <mat-hint align="start" *ngIf="testlet.codePrompt">{{testlet.codePrompt}}</mat-hint>              <mat-hint *ngIf="!testlet.codePrompt">                {{\'Bitte Freigabewort eingeben!\' | customtext:\'booklet_codeToEnterPrompt\' | async}}              </mat-hint>            </mat-form-field>          </ng-container>        </mat-card-content>        <mat-card-content>          <ng-container *ngFor="let loading of loadingUnits.list; let index = index">            <mat-progress-bar              color="primary"              [mode]="({\'UNKNOWN\': \'indeterminate\', \'PENDING\': \'query\'})[loading.progress] || \'determinate\'"              [value]="loading.progress"            >            </mat-progress-bar>            <p class="progress-bar-sub-text">              {{unitsToLoadLabels[index]}}              <ng-container [ngSwitch]="loading.progress">                <span *ngSwitchCase="\'UNKNOWN\'">                  ({{\'wird geladen\' | customtext:\'booklet_unitLoadingUnknownProgress\' | async}})                </span>                <span *ngSwitchCase="\'PENDING\'">                  ({{\'in der Warteschleife\' | customtext:\'booklet_unitLoadingPending\' | async}})                </span>                <span *ngSwitchDefault>                  ({{loading.progress}}% {{\'geladen\' | customtext:\'booklet_unitLoading\' | async}})                </span>              </ng-container>            </p>          </ng-container>        </mat-card-content>        <mat-card-actions>          <button            *ngIf="codeRequiringTestlets.length"            mat-raised-button            color="primary"            [disabled]="(clearCodes | keyvalue)?.length < codeRequiringTestlets.length"            (click)="verifyCodes()"          >            OK          </button>          <button            *ngIf="tcs.bookletConfig.unit_navibuttons === \'OFF\'"            mat-raised-button            [disabled]="tcs.currentUnitSequenceId === 0"            (click)="tcs.setUnitNavigationRequest(unitNavigationTarget.PREVIOUS)" matTooltip="Zurück" fxFlex="none"          >            <i class="material-icons">chevron_left</i>          </button>          <button            *ngIf="tcs.bookletConfig.unit_navibuttons === \'OFF\'"            mat-raised-button            [disabled]="tcs.currentUnitSequenceId >= tcs.allUnitIds.length"            (click)="tcs.setUnitNavigationRequest(unitNavigationTarget.NEXT)" matTooltip="Weiter" fxFlex="none"          >            <i class="material-icons">chevron_right</i>          </button>        </mat-card-actions>      </mat-card>    </div>  </ng-container>  <div    id="page-navigation"    fxLayout="row"    fxLayoutAlign="end center"    fxLayoutGap="10px"    *ngIf="tcs.bookletConfig.page_navibuttons === \'SEPARATE_BOTTOM\'"  >    <div fxLayout="row" fxLayoutAlign="space-between center" *ngIf="knownPages && knownPages.length && (knownPages.length > 1)">      <div id="page-navigation-prompt">        {{ \'\'  | customtext:\'login_pagesNaviPrompt\' | async}}      </div>      <mat-button-toggle-group>        <mat-button-toggle          [disabled]="currentPageIndex <= 0"          (click)="gotoPage(knownPages[currentPageIndex - 1].id);"          fxLayout="row"          fxLayoutAlign="center center"        >          <i class="material-icons">chevron_left</i>        </mat-button-toggle>        <mat-button-toggle          *ngFor="let page of knownPages; let index = index"          fxLayout="column"          (click)="gotoPage(page.id)"          [matTooltip]="page.label"          [checked]="currentPageIndex === index"        >          {{ index + 1 }}        </mat-button-toggle>        <mat-button-toggle          [disabled]="currentPageIndex >= knownPages.length - 1"          (click)="gotoPage(knownPages[currentPageIndex + 1].id);"          fxLayout="row"          fxLayoutAlign="center center"        >          <i class="material-icons">chevron_right</i>        </mat-button-toggle>      </mat-button-toggle-group>    </div>  </div></div></div>'
    var COMPONENTS = [{'name': 'AdminStarterComponent', 'selector': ''},{'name': 'AlertComponent', 'selector': 'alert'},{'name': 'AppComponent', 'selector': 'tc-root'},{'name': 'AppConfigComponent', 'selector': 'app-app-config'},{'name': 'AppRootComponent', 'selector': ''},{'name': 'CodeInputComponent', 'selector': ''},{'name': 'ConfirmDialogComponent', 'selector': 'tc-confirm-dialog'},{'name': 'EditCustomTextComponent', 'selector': 'app-custom-text'},{'name': 'EditCustomTextsComponent', 'selector': 'app-custom-texts'},{'name': 'EditworkspaceComponent', 'selector': ''},{'name': 'FilesComponent', 'selector': ''},{'name': 'GroupMonitorComponent', 'selector': 'app-group-monitor'},{'name': 'IqbFilesUploadComponent', 'selector': 'iqb-files-upload'},{'name': 'IqbFilesUploadQueueComponent', 'selector': 'iqb-files-upload-queue'},{'name': 'LegalNoticeComponent', 'selector': ''},{'name': 'LoginComponent', 'selector': ''},{'name': 'MessageDialogComponent', 'selector': ''},{'name': 'MonitorStarterComponent', 'selector': ''},{'name': 'NetworkCheckComponent', 'selector': ''},{'name': 'NewpasswordComponent', 'selector': ''},{'name': 'NewuserComponent', 'selector': ''},{'name': 'NewworkspaceComponent', 'selector': ''},{'name': 'QuestionnaireComponent', 'selector': ''},{'name': 'ReportComponent', 'selector': ''},{'name': 'ResultsComponent', 'selector': ''},{'name': 'ReviewDialogComponent', 'selector': ''},{'name': 'RouteDispatcherComponent', 'selector': ''},{'name': 'SaveReportComponent', 'selector': 'app-save-report'},{'name': 'SettingsComponent', 'selector': ''},{'name': 'StatusCardComponent', 'selector': 'status-card'},{'name': 'SuperadminComponent', 'selector': ''},{'name': 'SuperadminPasswordRequestComponent', 'selector': ''},{'name': 'SysCheckComponent', 'selector': ''},{'name': 'SyscheckComponent', 'selector': ''},{'name': 'SysCheckStarterComponent', 'selector': ''},{'name': 'TcSpeedChartComponent', 'selector': 'tc-speed-chart'},{'name': 'TestControllerComponent', 'selector': ''},{'name': 'TestSessionComponent', 'selector': 'tc-test-session'},{'name': 'TestStarterComponent', 'selector': ''},{'name': 'TestStatusComponent', 'selector': ''},{'name': 'UnitCheckComponent', 'selector': 'iqb-unit-check'},{'name': 'UnithostComponent', 'selector': ''},{'name': 'UnitMenuComponent', 'selector': 'unit-menu'},{'name': 'UsersComponent', 'selector': ''},{'name': 'WelcomeComponent', 'selector': ''},{'name': 'WorkspaceComponent', 'selector': ''},{'name': 'WorkspacesComponent', 'selector': ''}];
    var DIRECTIVES = [{'name': 'IqbFilesUploadInputForDirective', 'selector': 'input[iqbFilesUploadInputFor], div[iqbFilesUploadInputFor]'}];
    var ACTUAL_COMPONENT = {'name': 'UnithostComponent'};
</script>
<script src="../js/tree.js"></script>
















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'UnithostComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
