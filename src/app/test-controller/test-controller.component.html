<div id="buttonsContainer" fxLayout="row" fxLayoutAlign="space-between center">
  <a [routerLink]="['/']">
    <img src="assets/IQB-LogoA.png" matTooltip="Startseite"/>
  </a>
  <div fxLayout="row" fxLayoutAlign="end center">
    <p class="timer" *ngIf="(tcs.mode !== runModeKey.HOT_RESTART) && (tcs.mode !== runModeKey.HOT_RETURN)">{{ timerValue?.timeLeftString }}</p>
    <button mat-fab [disabled]="!(tcs.unitPrevEnabled$ | async)" *ngIf="tcs.navArrows" color="accent"
            (click)="tcs.setUnitNavigationRequest(unitNavigationTarget.PREVIOUS)" matTooltip="Zurück" fxFlex="none">
      <i class="material-icons">chevron_left</i>
    </button>
    <div *ngIf="tcs.navButtons" fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="0 3 100%">
      <div *ngFor="let u of (tcs.unitListForNaviButtons$ | async)">
        <div fxLayout="column" fxLayoutAlign="start center">
            <button (click)="gotoUnit(u.sequenceId)" class="unit-button" [disabled]="u.disabled">{{ u.label }}</button>
            <span class="current-unit-dot" *ngIf="u.isCurrent"></span>
            <span class="notcurrent-unit-dot" *ngIf="!u.isCurrent"></span>
        </div>
      </div>
    </div>
    <button mat-fab [disabled]="!(tcs.unitNextEnabled$ | async)" *ngIf="tcs.navArrows" color="accent"
            (click)="tcs.setUnitNavigationRequest(unitNavigationTarget.NEXT)" matTooltip="Weiter" fxFlex="none">
      <i class="material-icons">chevron_right</i>
    </button>
    <button mat-button (click)="showReviewDialog()" *ngIf="tcs.mode === runModeKey.REVIEW" matTooltip="Kommentar senden" fxFlex="none">
      <mat-icon>rate_review</mat-icon>
    </button>
    <button mat-button [routerLink]="['/']"
            *ngIf="(tcs.mode !== runModeKey.HOT_RESTART) && (tcs.mode !== runModeKey.HOT_RETURN)"
            matTooltip="Zur Testheft-Auswahl zurückkehren" fxFlex="none">
      <mat-icon>exit_to_app</mat-icon>
    </button>
  </div>
</div>
<div class="spinner" *ngIf="tcs.dataLoading">
  <mat-spinner></mat-spinner>
</div>
<mat-card *ngIf="showProgress" class="progress-bar">
  <mat-card-content fxLayout="column">
    <h2>Lade Aufgaben... bitte warten</h2>
    <mat-progress-bar
        color="primary"
        mode="determinate"
        [value]="progressValue">
    </mat-progress-bar>
  </mat-card-content>
</mat-card>
<div class="tc-body">
    <router-outlet></router-outlet>
</div>
