<div id="unit-title" *ngIf="tcs.bookletConfig.unit_title === 'ON'" fxLayout="column" fxLayoutAlign="center center">
  <p>{{ unitTitle }} {{currentUnitSequenceId}}</p>
</div>

<div id="iFrameHost">
</div>

<pre style="position: fixed; background: black; color: yellow; display: block; z-index: 99999999">
{{unitLoading$ | async | json}}
</pre>

<ng-container *ngIf="unitLoading$ | async as loading">
  <div id="waiting-room" *ngIf="loading.progress !== 100">
    <mat-card>
      <mat-card-header [ngSwitch]="loading.progress">
        <mat-card-title *ngSwitchCase="'UNKNOWN'">Unit wird geladen (Fortschritt unbekannt)</mat-card-title>
        <mat-card-title *ngSwitchCase="'PENDING'">Unit wid geladen und ist noch in der Warteschleife</mat-card-title>
        <mat-card-title *ngSwitchDefault>Unit wird geladen ({{loading.progress}}%)</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-progress-bar
          color="primary"
          [mode]="loading.progress === 'UNKNOWN' ? 'indeterminate' : 'determinate'"
          [value]="loading.progress"
        >
        </mat-progress-bar>
      </mat-card-content>
    </mat-card>
  </div>
</ng-container>

<div id="pageNav" fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="10px" *ngIf="tcs.bookletConfig.page_navibuttons === 'SEPARATE_BOTTOM'">
  <div fxLayout="row" fxLayoutAlign="space-between center" *ngIf="showPageNav">
      <div id="pageNavPrompt">
        {{ ''  | customtext:'login_pagesNaviPrompt' | async}}
      </div>

      <div *ngFor="let p of pageList">
          <button *ngIf="p.type === '#previous'" (click)="gotoPage(p.type)" [disabled]="p.disabled" fxLayout="row" fxLayoutAlign="center center">
              <i class="material-icons">chevron_left</i>
          </button>
          <button *ngIf="p.type === '#next'" (click)="gotoPage(p.type)" [disabled]="p.disabled" fxLayout="row" fxLayoutAlign="center center">
              <i class="material-icons">chevron_right</i>
          </button>
          <div *ngIf="p.type === '#goto'" fxLayout="column">
              <div class="pageNavEnabled" *ngIf="!p.disabled"></div>
              <div class="pageNavDisabled" *ngIf="p.disabled"></div>
              <button (click)="gotoPage(p.type, p.index)" [disabled]="p.disabled">{{ p.index }}</button>
              <div class="pageNavEnabled" *ngIf="!p.disabled"></div>
              <div class="pageNavDisabled" *ngIf="p.disabled"></div>
          </div>
      </div>
  </div>
</div>
