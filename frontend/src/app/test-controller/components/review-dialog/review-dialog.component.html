<form [formGroup]="reviewForm">
  <p mat-dialog-title>Kommentar geben</p>

  <mat-dialog-content>
    <div class="flex-row" [style.gap.px]="60">
      <div class="flex-column">
        <p>
          Sie sind angemeldet als <b>"{{data.loginname}}"</b>.
          Bitte geben Sie Ihren Namen ein, damit eine Zuordnung möglich ist.
        </p>
        <mat-form-field>
          <input matInput formControlName="sender" placeholder="Mein Name">
        </mat-form-field>

        <mat-radio-group formControlName="target">
          <label>Der Kommentar wird gegeben für:</label>
          <mat-radio-button value="b" [matTooltip]="data.bookletname">
            aktuelles Testheft "{{ data.bookletname }}"
          </mat-radio-button>
          <mat-radio-button value="u" [disabled]="data.unitDbKey.length === 0" [matTooltip]="data.unitDbKey">
            aktuelle Aufgabe/Seite "{{ data.unitTitle }}"
          </mat-radio-button>
        </mat-radio-group>
        <div>
          <label>Priorität</label>
          <mat-radio-group formControlName="priority">
            <mat-radio-button value="1">dringend/kritisch</mat-radio-button>
            <mat-radio-button value="2">mittelfristig</mat-radio-button>
            <mat-radio-button value="3">optional</mat-radio-button>
          </mat-radio-group>
        </div>
        <ul>
          <label>Kategorie</label>
          <li><mat-checkbox formControlName="tech">Technisches</mat-checkbox></li>
          <li><mat-checkbox formControlName="content">Inhaltliches</mat-checkbox></li>
          <li><mat-checkbox formControlName="design">Gestaltung</mat-checkbox></li>
        </ul>
      </div>

      <mat-form-field appearance="fill" [style.width.%]="100">
        <mat-label>Kommentar</mat-label>
        <textarea matInput formControlName="entry"
                  style="resize: none;"
                  rows="28"></textarea>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button mat-raised-button color="primary" type="submit"
            [mat-dialog-close]="reviewForm.value" [disabled]="reviewForm.invalid">
      Speichern
    </button>
    <button mat-raised-button [mat-dialog-close]="false">
      Abbrechen
    </button>
  </mat-dialog-actions>
</form>
